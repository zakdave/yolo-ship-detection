String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),
/**
 * Array.prototype.includes() polyfill
 * @author Chris Ferdinandi
 * @license MIT
 */
Array.prototype.includes||(Array.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<n;){var r=t[s];if(e.call(i,r,s,t))return r;s++}},configurable:!0,writable:!0}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),s=Math.max(0,16-(i-e)),r=window.setTimeout((function(){t(i+s)}),s);return e=i+s,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Math.log10=Math.log10||function(e){return Math.log(e)*Math.LOG10E},Array.from||(Array.from=function(){var e;try{e=Symbol.iterator?Symbol.iterator:"Symbol(Symbol.iterator)"}catch(r){e="Symbol(Symbol.iterator)"}var t=Object.prototype.toString,n=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=Math.pow(2,53)-1,s=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),i)};return function(t){var i=Object(t),r=n(i[e]);if(null==t&&!r)throw new TypeError("Array.from requires an array-like object or iterator - not null or undefined");var a,o=arguments.length>1?arguments[1]:void 0;if(void 0!==o){if(!n(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}var c=s(i.length);return function(e,t,n,i,s,r){for(var a=0;a<n||s;){var o=i(a),c=s?o.value:o;if(s&&o.done)return t;t[a]=r?void 0===e?r(c,a):r.call(e,c,a):c,a+=1}if(s)throw new TypeError("Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1");return t.length=n,t}(a,n(this)?Object(new this(c)):new Array(c),c,function(t,n){var i=t&&n[e]();return function(e){return t?i.next():n[e]}}(r,i),r,o)}}()),"function"!=typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(e,t){if(null===this)throw new TypeError("Cannot read property 'findIndex' of null");if("function"!=typeof e)throw new TypeError(typeof e+" is not a function");for(var n=this.length,i=-1,s=0;s<n;s++)if(e.call(t,this[s],s,this)){i=s;break}return i}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=t>0?0|t:0;return this.substring(n,n+e.length)===e}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(e,t){return e|=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},writable:!0,configurable:!0}),function(e){var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(){this._events={},this._conf&&i.call(this,this._conf)}function i(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function s(e){this._events={},this.newListener=!1,i.call(this,e)}function r(e,t,n,i){if(!n)return[];var s,a,o,c,l,u,d,p=[],h=t.length,f=t[i],g=t[i+1];if(i===h&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(s=0,a=n._listeners.length;s<a;s++)e&&e.push(n._listeners[s]);return[n]}if("*"===f||"**"===f||n[f]){if("*"===f){for(o in n)"_listeners"!==o&&n.hasOwnProperty(o)&&(p=p.concat(r(e,t,n[o],i+1)));return p}if("**"===f){for(o in(d=i+1===h||i+2===h&&"*"===g)&&n._listeners&&(p=p.concat(r(e,t,n,h))),n)"_listeners"!==o&&n.hasOwnProperty(o)&&("*"===o||"**"===o?(n[o]._listeners&&!d&&(p=p.concat(r(e,t,n[o],h))),p=p.concat(r(e,t,n[o],i))):p=o===g?p.concat(r(e,t,n[o],i+2)):p.concat(r(e,t,n[o],i)));return p}p=p.concat(r(e,t,n[f],i+1))}if((c=n["*"])&&r(e,t,c,i+1),l=n["**"])if(i<h)for(o in l._listeners&&r(e,t,l,h),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===g?r(e,t,l[o],i+2):o===f?r(e,t,l[o],i+1):((u={})[o]=l[o],r(e,t,{"**":u},i+1)));else l._listeners?r(e,t,l,h):l["*"]&&l["*"]._listeners&&r(e,t,l["*"],h);return p}function a(e,n){for(var i=0,s=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;i+1<s;i++)if("**"===e[i]&&"**"===e[i+1])return;for(var r=this.listenerTree,a=e.shift();a;){if(r[a]||(r[a]={}),r=r[a],0===e.length){if(r._listeners){if("function"==typeof r._listeners)r._listeners=[r._listeners,n];else if(t(r._listeners)&&(r._listeners.push(n),!r._listeners.warned)){var o=10;void 0!==this._events.maxListeners&&(o=this._events.maxListeners),o>0&&r._listeners.length>o&&(r._listeners.warned=!0)}}else r._listeners=n;return!0}a=e.shift()}return!0}s.prototype.delimiter=".",s.prototype.setMaxListeners=function(e){this._events||n.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},s.prototype.event="",s.prototype.once=function(e,t){return this.many(e,1,t),this},s.prototype.many=function(e,t,n){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function s(){0==--t&&i.off(e,s),n.apply(this,arguments)}return s._origin=n,this.on(e,s),i},s.prototype.emit=function(){this._events||n.call(this);var e,t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var i=arguments.length,s=new Array(i-1),a=1;a<i;a++)s[a-1]=arguments[a];for(a=0,i=this._all.length;a<i;a++)this.event=t,this._all[a].apply(this,s)}if("error"===t&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(this.wildcard){e=[];var o="string"==typeof t?t.split(this.delimiter):t.slice();r.call(this,e,o,this.listenerTree,0)}else e=this._events[t];if("function"==typeof e){if(this.event=t,1===arguments.length)e.call(this);else if(arguments.length>1)switch(arguments.length){case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),a=1;a<i;a++)s[a-1]=arguments[a];e.apply(this,s)}return!0}if(e){for(i=arguments.length,s=new Array(i-1),a=1;a<i;a++)s[a-1]=arguments[a];var c=e.slice();for(a=0,i=c.length;a<i;a++)this.event=t,c[a].apply(this,s);return c.length>0||!!this._all}return!!this._all},s.prototype.on=function(e,i){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof i)throw new Error("on only accepts instances of Function");if(this._events||n.call(this),this.emit("newListener",e,i),this.wildcard)return a.call(this,e,i),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],i];else if(t(this._events[e])&&(this._events[e].push(i),!this._events[e].warned)){var s=10;void 0!==this._events.maxListeners&&(s=this._events.maxListeners),s>0&&this._events[e].length>s&&(this._events[e].warned=!0)}}else this._events[e]=i;return this},s.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},s.prototype.addListener=s.prototype.on,s.prototype.off=function(e,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");var i,s=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();s=r.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;i=this._events[e],s.push({_listeners:i})}for(var o=0;o<s.length;o++){var c=s[o];if(i=c._listeners,t(i)){for(var l=-1,u=0,d=i.length;u<d;u++)if(i[u]===n||i[u].listener&&i[u].listener===n||i[u]._origin&&i[u]._origin===n){l=u;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),0===i.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this}(i===n||i.listener&&i.listener===n||i._origin&&i._origin===n)&&(this.wildcard?delete c._listeners:delete this._events[e])}return this},s.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this}else this._all=[];return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||n.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),i=r.call(this,null,t,this.listenerTree,0),s=0;s<i.length;s++){i[s]._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},s.prototype.listeners=function(e){if(this.wildcard){var i=[],s="string"==typeof e?e.split(this.delimiter):e.slice();return r.call(this,i,s,this.listenerTree,0),i}return this._events||n.call(this),this._events[e]||(this._events[e]=[]),t(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},s.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define((function(){return s})):"object"==typeof exports?exports.EventEmitter2=s:window.EventEmitter2=s}(),window.Bootstrap={BACKDATA_PARAM:"sexp",Data:{},errorArguments:[],unhandledRejectionArguments:[]},function(e){window.onerror=function(){e.errorArguments.push(arguments)},e.handleUnhandledRejection=function(){e.unhandledRejectionArguments.push(arguments)},window.addEventListener("unhandledrejection",e.handleUnhandledRejection)}(Bootstrap),function(e){e.getAllHistoryState=function(){for(var e,t={},n=/\+/g,i=/([^&=]+)=?([^&]*)/g,s=(window.location.search+window.location.hash).substring(1),r=function(e){try{e=decodeURIComponent(e.replace(n," "))}catch(t){}return e};e=i.exec(s);)t[r(e[1])]=r(e[2]);return t},e.getHistoryState=function(t){return e.getAllHistoryState()[t]},e.isWindowsPhone=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/windows phone/.test(e)},e.isOSX=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/mac os x [0-9]/.test(e)},e.isIPadOS=function(t){return t=t||navigator.userAgent.toLowerCase(),e.isOSX(t)&&navigator.maxTouchPoints},e.isIPad=function(t){return t=t||navigator.userAgent.toLowerCase(),!(!e.isIPadOS(t)&&!/ipad/.test(t))},e.isIPhone=function(t){return t=t||navigator.userAgent.toLowerCase(),!(e.isWindowsPhone(t)||!/iphone/.test(t))},e.isIDevice=function(t){return t=t||navigator.userAgent.toLowerCase(),e.isIPad(t)||e.isIPhone(t)||/\Wios\W/.test(t)},e.isIOS8p=function(t){return t=t||navigator.userAgent.toLowerCase(),!(!e.isIDevice(t)||!e.isIPadOS(t)&&!/os (8|9|[1-9][0-9])|os 10_10/.test(t))},e.isFirefox=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/firefox|fxios/.test(e)},e.isBrave=function(t){return t=t||navigator.userAgent.toLowerCase(),!!navigator.brave&&"function"==typeof navigator.brave.isBrave||e.isIOS8p(t)&&e.isFirefox(t)&&/(\d{2}\.){3}\d{2}/.test(t)||/brave chrome/.test(t)},e.isIE=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/msie|trident/.test(e)},e.isDDGTest=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/ddgtest/.test(e)},e.isOnion=function(e){return!!(e=e||window.location.host).match(/\.onion$/i)},e.isDDGApp=function(e,t){return e=e||navigator.userAgent.toLowerCase(),t=t||window.location.search,!!navigator.duckduckgo&&"ios"===navigator.duckduckgo.platform||!(!t||!t.match(/(\&|\?)t\=(ddg_ios|ddg_android)/))||/DuckDuckGo\/[0-9]/i.test(e)},e.isDDGmacOS=function(e){return e=e||navigator.userAgent.toLowerCase(),!!navigator.duckduckgo&&"macos"===navigator.duckduckgo.platform||/^mozilla\/.*\(macintosh;.*\).*applewebkit\/.*\(khtml, like gecko\)$/.test(e)},e.isDDGwindows=function(){return!!navigator.duckduckgo&&"windows"===navigator.duckduckgo.platform},e.isChrome=function(t){t=t||navigator.userAgent.toLowerCase();var n=!!/edge\//.test(t);return!(!!(!/chrome(?!frame)|crios/.test(t)||e.isIE(t)||n)||/opr\/[0-9][0-9]?/.test(t))},e.isEnglish=function(){return window.locale&&"en"===window.locale.substring(0,2)},e.hostRegion=(window._bootstrapBackendData||{}).hostRegion,e.isMobile=(window._bootstrapBackendData||{}).isMobile,e.isDesktop=(window._bootstrapBackendData||{}).isDesktop,e.bingMarket=(window._bootstrapBackendData||{}).bingMarket,e.isExtensionInstalled=function(){return"duckduckgo"in navigator&&"extension"===navigator.duckduckgo.platform},e.isExtensionInstalledLegacy=function(t,n){var i;if(t=t||navigator.userAgent.toLowerCase(),n=n||window.location.search,document.body){var s=document.createElement("div");s.className="ddg-extension-check ddg-extension-hide",document.body.appendChild(s),i="none"===window.getComputedStyle(s).display,document.body.removeChild(s)}else document.documentElement.classList.add("ddg-extension-check","ddg-extension-hide"),i="none"===window.getComputedStyle(document.documentElement).display,document.documentElement.classList.remove("ddg-extension-check","ddg-extension-hide");return i&&!e.isDDGApp(t,n)},e.PRODUCTS_META_IMAGE_VERTICAL_PRODUCT_ADS_EXPERIMENT={region:{"us-en":!0,"uk-en":!0,"de-de":!0,"fr-fr":!0},country:{US:!0,GB:!0,DE:!0,FR:!0}},e.DEFERRED_VERTICALS=["images","videos","news","maps_expanded","products","shopping","chat"],e._region=(window._bootstrapBackendData||{})._region,e.getRegion=function(){if(null!=window.kl)return window.kl;if(e._region)return e._region;for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n].split("=");if(2===i.length){var s=i[0].trim(),r=i[1].trim();if("l"===s&&!/<|>|\//g.test(r))return r}}return""},e.isProductAdsMarket=function(){return!!(window._bootstrapBackendData||{}).showProductAds},e.isAutoAdsMarket=function(){return!!(window._bootstrapBackendData||{}).showAutoAds},e.isToursActivitiesMarket=function(){return!!(window._bootstrapBackendData||{}).showTourAds},e.isCreditCardsMarket=function(){return!!(window._bootstrapBackendData||{}).showCreditCardAds},e.isImageVerticalProductAdsMarket=function(t){var n=e.getRegion(),i=n&&"wt-wt"!==n;return!(""!==n&&"wt-wt"!==n||!e.PRODUCTS_META_IMAGE_VERTICAL_PRODUCT_ADS_EXPERIMENT.country[window.ct])||!(!i||!e.PRODUCTS_META_IMAGE_VERTICAL_PRODUCT_ADS_EXPERIMENT.region[n])},e.validateRequery=function(e){return["images","videos","news","maps","shopping"].indexOf(e)<0?null:e},e.TIMEOUT_DEEP_REQUEST=4e3,e.TIMEOUT_PRELOADED_DEEP_REQUEST=4750,e.shouldDeferDeep=function(t){var n=e.getAllHistoryState(),i=n.ia||!1,s=t?t(n.iar):n.iar,r=n.iax||!1,a=n.iaxm||!1,o=1===window.shfl;return"maps"===a||!!s&&"web"!==s||!!i&&(i===s&&"news"===i||i===r&&"news"!==r||"chat"===i)&&e.DEFERRED_VERTICALS.indexOf(i)>-1&&!("shopping"===i&&i===r&&!o)},e.addFrontendQsToBackendDeepUrl=function(t,n,i){var s=(i=i||{}).skipLinksService,r=n.addExperimentParameters(t),a=window._bootstrapBackendData||{};return!/&ext=/.test(t)&&a.hasExtension&&(r+="&ext=1"),!/&bpa=/.test(t)&&a.showProductAds&&(r+="&bpa=1"),!/&baa=/.test(t)&&a.showAutoAds&&(r+="&baa=1"),/&wrap=/.test(t)||(r+="&wrap=1"),s?r:e.getLinksURL(r)},e.getLinksURL=function(t,n){n=n||window.location.host;return/^staging\./.test(n)?"//staging-links.duckduckgo.com"+t:window.testTrafficType&&window.baseLinkUrl&&"testing"==window.baseLinkEnvName?"//"+window.baseLinkUrl+t:e.isDev?"//"+n+"/links"+t:"//links.duckduckgo.com"+t}}(Bootstrap),function(e){function t(e){return((e||{}).state||{}).backData||{}}e.BackData=function(e){this._history=e||window.history,this._data=t(this._history),this.ready=!1,this.isLoadedFromBfCache=null,this.timeLoadedFromBfCache=null,this._boundHandlePageShow=this._handlePageShow.bind(this),window.addEventListener("pageshow",this._boundHandlePageShow)},e.BackData.prototype=Object.assign({},EventEmitter2.prototype,{destroy:function(){window.removeEventListener("pageshow",this._boundHandlePageShow),this.removeAllListeners()},_handlePageShow:function(e){this._data=t(this._history),e&&e.persisted?(this.isLoadedFromBfCache=!0,this.timeLoadedFromBfCache=Date.now()):(this.isLoadedFromBfCache=!1,this.timeLoadedFromBfCache=null),this._history&&this._history.replaceState&&this._history.state&&this._history.replaceState(Object.assign({},this._history.state,{backData:{isSerpReturn:!0}}),""),this.ready=!0,this.emit("ready",this.ready)},set:function(e,n,i){n&&n.timestamp&&delete(n=Object.assign({},n)).timestamp,i=Object.assign({isBounceSignal:!0},i),this._history&&this._history.replaceState&&this._history.replaceState(Object.assign({},this._history.state,{backData:{id:e,data:n,isSerpReturn:t(this._history).isSerpReturn,isBounceSignal:!!i.isBounceSignal}}),"")},getId:function(){return this._data.id},getData:function(){return this._data.data||{}},isBounceBack:function(){return!!this._data.isBounceSignal},isSerpReturn:function(){return!!this._data.isSerpReturn}})}(Bootstrap),Bootstrap.Data.SearchExperimentsDefinitions={biaexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},msvrtexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},ama5exp:{allocation:1,assignment:"frontend",variants:["b"],persistent:"bounce",services:["products"]},rspexp2:{allocation:0,assignment:"backend",variants:["a","b","e"],persistent:!1,services:["deep"]},videxp:{allocation:.05,assignment:"backend",variants:["a"],persistent:!1,services:["deep"]},uxexp:{allocation:0,assignment:"frontend",variants:["x","y","z"],persistent:"bounce"},tqcls:{allocation:0,assignment:"backend",variants:["a","b","c"],persistent:!1,services:["deep","products"]},qfcls:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},eclsexp:{allocation:1,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},useclsexp:{allocation:.25,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},btaaexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},bccaexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},"3adexp":{exclusionGroup:"ads",allocation:[0,.1],assignment:"backend",variants:["a","b","c","d"],persistent:!1,services:["deep"]},stexp:{allocation:0,assignment:"frontend",variants:["a","b","c"],persistent:!1},autoadexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},related_click:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},related_requery:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},related_done:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},related:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},msnexp:{allocation:0,assignment:"backend",variants:["a","b","c","d"],persistent:!1,services:["deep","news"]},pctaexp:{allocation:0,assignment:"frontend",variants:["b"],persistent:"bounce"},infoboxexp:{allocation:0,assignment:"backend",variants:["a","b","c","d","e","f","g","h","i","j"],services:["deep"],persistent:!1},litexp:{allocation:1,assignment:"backend",variants:["a","b","c"],services:["deep"],persistent:!1},svpadexp:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["products"]},svpamexp:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["products"]},mapsexp:{assignment:"frontend",persistent:!1,variants:["a","b"],allocation:.1},animated_download_exp:{assignment:"frontend",persistent:!1,allocation:0,variants:["d","e"]},duckchat_alpha:{assignment:"frontend",persistent:!1,allocation:1,variants:["b"]},titles_hide_wiki_exp:{allocation:1,descriptions:"Hide Wikipedia if it describes the same movie/show as in the Titles IA",assignment:"backend",persistent:!1,variants:["b"],services:["deep"]},shopping_image_size_desktop:{allocation:0,assignment:"frontend",variants:["a","b","c"],persistent:"bounce",services:["products"]},shopping_image_size_mobile:{allocation:0,assignment:"frontend",variants:["a","b"],persistent:"bounce",services:["products"]},pa_card_size_experiment_mobile:{exclusionGroup:"ads",allocation:[0,0],assignment:"backend",variants:["a","b","c"],persistent:!1,services:["deep","products","images"]},titles_hide_wiki_high_intent_exp:{allocation:1,descriptions:"Hide Wikipedia if it describes the same movie/show as in the Titles IA",assignment:"frontend",persistent:!1,variants:["b"]},locstr_exp:{allocation:1,assignment:"frontend",variants:["b"],persistent:!1,services:["local"]},appstore_exp:{allocation:1,assignment:"frontend",variants:["a","b","c"],persistent:!1},binexp:{exclusionGroup:"ads",allocation:[0,0],assignment:"backend",variants:["a"],persistent:!1,services:["deep","products","images"]},text_extensions_exp:{exclusionGroup:"ads",allocation:[0,0],descriptions:"Test new text ad extensions",assignment:"backend",persistent:!1,variants:["a","b"],services:["deep","products","images"]},localexp:{allocation:0,descriptions:"Local search frontend refactoring",assignment:"frontend",persistent:!1,variants:["a","b"]},duckassistexp:{allocation:.1,descriptions:"Duckassist impact experiment",assignment:"frontend",persistent:!1,variants:["a","b"]},externallinktest:{allocation:0,descriptions:"Remove external link check for ddg browsers",assignment:"frontend",persistent:!1,variants:["a"]}},window.Bootstrap.SearchExperimentsData=[],function(e){var t={deep:["d.js","t.js"],local:["local.js","spice/maps/places","spice/maps/maps"],news:["news.js","spice/news"],images:["i.js","spice/images"],videos:["v.js","spice/videos"],products:["m.js","spice/amazon"],embed:["f.js"],nlp:["a.js"]},n=/^\/?((?:d|t|local|news|i|v|m|f|a).js)|\/js\/(spice\/.*)\//;function i(n,s,r,a){if(this._backData=a,this._experiments=Object.keys(n).sort().map((function(t){var i=n[t],r=!(e.isDDGTest()||"backend"!==i.assignment||!s||!(t in s));return Object.assign({},i,{key:t,assigned:r,active:!!r&&s[t].active,assignedVariant:r?s[t].assignedVariant:null})})),this._byKey=this._experiments.reduce((function(e,t){return e[t.key]=t,e}),{}),this._bounceDataAtInstantiation={},this._backData.isBounceBack()){var o=this._backData.getData();if(o){var c=o[i.BACKDATA_PARAM];c&&Object.keys(c).forEach((function(e){n[e]&&"bounce"===n[e].persistent&&"string"==typeof c[e]&&(this._bounceDataAtInstantiation[e]=c[e])}),this)}}this._urlDataAtInstantiation={};var l=e.getAllHistoryState();Object.keys(l).forEach((function(e){e in n&&"string"==typeof l[e]&&(this._urlDataAtInstantiation[e]=l[e])}),this),this._restoredExclusionGroups={},this._serviceForUrlPart=Object.keys(t).reduce((function(e,n){return t[n].forEach((function(t){e[t]=n})),e}),{}),this._eclusionGroupsRandomNumbers=this._experiments.reduce((function(e,t){return"exclusionGroup"in t&&!(t.exclusionGroup in e)&&"frontend"===t.assignment&&(e[t.exclusionGroup]=Math.random()),e}),r||{}),this._activeExperiments=null,this._pixelParams=null}i.BACKDATA_PARAM=e.BACKDATA_PARAM||"sexp",i.prototype.assign=function(t,n){if(e.isDDGTest())return!1;var i=this._byKey[t];if(!i)return!1;if("frontend"!==i.assignment)return!1;if(i.assigned)return!1;if(this._clearCache(),i.assigned=!0,n&&n.filter&&!n.filter.call(this))return!1;if("exclusionGroup"in i&&i.exclusionGroup&&!this._restoredExclusionGroups[i.exclusionGroup]){this._restoredExclusionGroups[i.exclusionGroup]=!0;var s=i.exclusionGroup,r=this._experiments.filter((function(e){return"exclusionGroup"in e&&e.exclusionGroup===s}));if(!(s in this._eclusionGroupsRandomNumbers))return r.forEach((function(e){e.allocation=[0,0]})),!1;var a=r.some((function(e){return"backend"===e.assignment}));if(a){var o=r.some((function(e){return e.persistent}));if(o)return r.forEach((function(e){e.allocation=[0,0]})),!1}var c=r.find((function(e){return e.key in this._urlDataAtInstantiation}),this);c||(c=r.find((function(e){return null!==this._getPersistedVariant(e)}),this)),c&&r.forEach((function(e){e!==c&&(e.allocation=[0,0])}))}var l=this._urlDataAtInstantiation[t];if(l)i.variants.includes(l)&&(i.assignedVariant=l,n&&n.deactivated||(i.active=!0));else{if("number"==typeof i.allocation&&i.allocation<=0||Array.isArray(i.allocation)&&i.allocation[0]<=0&&i.allocation[1]<=0)return!1;var u=i.persistent?this._getPersistedVariant(i):null;if(this._backData.isBounceBack()&&null===u&&"bounce"===i.persistent)return!1;if(null===u){if("exclusionGroup"in i||"number"!=typeof i.allocation)"exclusionGroup"in i&&Array.isArray(i.allocation)&&this._eclusionGroupsRandomNumbers[i.exclusionGroup]>=i.allocation[0]&&(this._eclusionGroupsRandomNumbers[i.exclusionGroup]<i.allocation[1]||1===i.allocation[1]&&this._eclusionGroupsRandomNumbers[i.exclusionGroup]===i.allocation[1])&&(u=i.variants[Math.floor(i.variants.length*Math.random())]);else{var d=Math.random();if(d>i.allocation)return!1;var p=i.allocation/i.variants.length,h=Math.floor(d/p);u=i.variants[h]}if(n&&n.postEnrollment&&null!==u){var f=n.postEnrollment.call(this,u,i.variants);i.variants.includes(f),u=f}}null!==u&&(i.assignedVariant=u,n&&n.deactivated||(i.active=!0))}return i.assigned},i.prototype.activate=function(e){var t=this._byKey[e];t&&null!==t.assignedVariant&&(this._clearCache(),t.active=!0)},i.prototype.deactivate=function(e){var t=this._byKey[e];t&&null!==t.assignedVariant&&(this._clearCache(),t.active=!1)},i.prototype.isActive=function(e){var t=this._byKey[e];return!(!t||!t.active)},i.prototype.getActiveVariant=function(e){var t=this._byKey[e];if(t)return t.active?t.assignedVariant:null},i.prototype.getExperimentGroup=function(e){return this.getActiveVariant(e)},i.prototype.getAssignedVariant=function(e){var t=this._byKey[e];if(t)return t.assignedVariant},i.prototype.addExperimentParameters=function(e){var t=e.match(n),i=t&&(t[1]||t[2]);if(!i)return e;var s=this._serviceForUrlPart[i];if(!s)return e;var r=[];if(this._experiments.forEach((function(e){e.services&&e.services.includes(s)&&r.push(e)})),!r.length)return e;var a=r.filter((function(t){if("deep"===s){var n=new RegExp("(\\?|&)"+t.key+"=");return t.active&&!n.test(e)}return t.active})).map((function(e){return e.key+"="+e.assignedVariant}));if(a.length){var o=-1===e.indexOf("?")?"?":"&";e+=o+a.join("&")}return e},i.prototype.getPixelParameters=function(){return null!==this._pixelParams?this._pixelParams:this._pixelParams=this._getActiveExperiments().map((function(e){return e.key+"="+e.assignedVariant})).join("&")},i.prototype.getActiveAssignments=function(){return this._getActiveExperiments().reduce((function(e,t){return null!==t.assignedVariant&&(e[t.key]=t.assignedVariant),e}),{})},i.prototype.hasActiveExperiments=function(){return!!this._getActiveExperiments().length},i.prototype._getActiveExperiments=function(){return null!==this._activeExperiments?this._activeExperiments:this._activeExperiments=this._experiments.filter((function(e){return e.active}))},i.prototype._clearCache=function(){this._pixelParams=null,this._activeExperiments=null},i.prototype._getPersistedVariant=function(e){return"bounce"===e.persistent&&e.key in this._bounceDataAtInstantiation?this._bounceDataAtInstantiation[e.key]:null},e.SearchExperiments=i}(Bootstrap),function(e){e.backData=new e.BackData(window.history);var t=e.searchExperiments=new e.SearchExperiments(e.Data.SearchExperimentsDefinitions,window.backendExperimentAssignments||{},window.backendRandomNumbers||{},e.backData);t.assign("ama5exp",{filter:function(){return"US"===window.ct||"DE"===window.ct}}),t.assign("uxexp"),t.assign("mxmexp"),t.assign("shopping_image_size_desktop",{filter:function(){return!e.isMobile}}),t.assign("shopping_image_size_mobile",{filter:function(){return e.isMobile}}),t.assign("duckchat_alpha",{filter:function(){if(!e)return!1;if(1===window.dc_enabled)return!0;if(2===window.dc_enabled){var t=!!e.device&&e.device.ua||navigator.userAgent&&navigator.userAgent.toLowerCase(),n=navigator.duckduckgo&&("macos"===navigator.duckduckgo.platform||"windows"===navigator.duckduckgo.platform),i=navigator.duckduckgo&&"ios"===navigator.duckduckgo.platform,s=/DuckDuckGo\/[0-9]/i.test(t),r=navigator.duckduckgo&&"android"===navigator.duckduckgo.platform||s;return n||i||r}return!1}}),t.assign("externallinktest"),t.assign("mapsexp"),t.assign("locstr_exp",{filter:function(){return"US"===window.ct}}),t.assign("localexp"),window.serpStoreDispatchQueue=[],e.safeSerpStoreDispatch=function(e){if(window.serpStore&&window.stores&&window.stores[e.actionCreatorFnName]){var t=window.stores[e.actionCreatorFnName].apply(null,e.params);window.serpStore.dispatch(t)}else window.serpStoreDispatchQueue.push({actionCreatorFnName:e.actionCreatorFnName,params:e.params})},window.__indexPayload__&&window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createIndexSuccessAction",params:[window.__indexPayload__,{searchExperiments:e.searchExperiments}]})}(Bootstrap);